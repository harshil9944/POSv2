<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Get Browser Unique Code</title>
    <style>
        #input-code {
          border: 1px solid #ccc;
          height: 45px;
          width: 500px;
          text-align: center;
          border-radius: 5px;
          font-size: 20px;
        }
    </style>
</head>
<body>
    <h1>Your POS Code</h1>
    <input id="input-code" type="text" readonly>
</body>
<script>
  function getFingerPrint() {
    return new Promise((res) => {
      // Initialize the agent at application startup.
      const fpPromise = new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.onload = resolve
        script.onerror = reject
        script.async = true
        script.src = 'https://cdn.jsdelivr.net/npm/'
          + '@fingerprintjs/fingerprintjs@3/dist/fp.min.js'
        document.head.appendChild(script)
      })
        .then(() => FingerprintJS.load())
      fpPromise
        .then(fp => fp.get())
        .then(result => {
          res(result.visitorId)
        })
    });
  }
  getFingerPrint().then(res => {
    document.getElementById('input-code').value = res;
  });
</script>
</html>
