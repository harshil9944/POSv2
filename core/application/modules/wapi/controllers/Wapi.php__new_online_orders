<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Wapi extends MY_Controller {

    public $module = 'wapi';
    public $model = 'wapi_model';
    public $singular = 'Web API';
    public $plural = 'Web API';
    public $language = 'wapi/wapi';
    public $edit_form = '';
    public function __construct()
    {
        parent::__construct();
        _model($this->model);
        $params = [
            'migration_path' => WAPI_MIGRATION_PATH,
            'migration_table' => WAPI_MIGRATION_TABLE
        ];
        $this->init_migration($params);
    }
    public function index()	{

        return false;

    }

    public function _populate_get() {

        _model('pos_session');

        $register_id = _input('register_id');

        $session = $this->pos_session->get_open($register_id);
        if($session) {
            $this->_exclude_keys($session,$this->pos_session->exclude_keys);
            $this->_sql_to_vue($session,$this->pos_session->keys);
        }

        _response_data('session',($session)?$session:null);
        return true;
    }

    public function _populate_items_get() {

        _helper('zebra');

        if(!$categories = _get_cache('web_categories')) {
            //$params['include_select'] = true;
            $categories = _get_module('items', '_get_categories', ['order' => ['order_by' => 'sort_order', 'order' => 'ASC'], 'filter' => ['web_status' => 1], 'select_data' => true, 'include_select' => false]);
            $skip_categories = [];
            $skip_categories[] = OPEN_ITEM_CATEGORY_ID;

            if($categories) {
                $temp = [];
                foreach ($categories as $category) {
                    if(in_array($category['id'],$skip_categories)) {
                        continue;
                    }
                    $temp[] = $category;
                }
                $categories = $temp;
            }
            _set_cache('web_categories', $categories, 1800);
        }

        /*$item_params = [];
        $item_params['limit'] = 3000;
        $item_params['orders'] = [['order_by'=>'title','order'=>'ASC']];
        $item_params['filter'] = ['web_status'=>1,'is_addon'=>0];
        $item_params['exclude'] = true;
        $item_params['convert'] = true;
        $items = _get_module('items','_search',$item_params);*/

        if(!$items = _get_cache('web_items')) {

            $skip_items = [];
            $skip_items[] = OPEN_ITEM_ID;

            $fields = [
                'id', 'type'
            ];

            $items = _db_get_query("SELECT " . implode(',', $fields) . " from itm_item where web_status=1 AND is_addon=0 AND id NOT IN (" . implode(',', $skip_items) . ")");

            if ($items) {

                $ids = array_column($items, 'id');

                $meta = _get_module('items', '_get_items_meta', ['ids' => $ids]);

                $temp = [];
                foreach ($items as $item) {

                    $filter_params = ['id' => $item['id'], 'meta' => $meta];

                    $item_type = $item['type'];

                    if ($item_type === 'single') {
                        $item_details = _get_module('items', '_single', $filter_params);
                    } elseif ($item_type === 'group') {
                        $item_details = _get_module('items/item_groups', '_single', $filter_params);
                    } else {
                        return false;
                    }


                    /*$item_details = _get_module('pos','_single_item',['id'=>$item['id'],'type'=>$item['type']]);*/

                    $item_details['quantity'] = 1;
                    $item_details['rate'] = 0;
                    $item_details['unitRate'] = 0;
                    $item_details['unitQuantity'] = 1;

                    if (@$item_details['prices'] && $item_details['type'] === 'single') {
                        if (count($item_details['prices'])) {
                            $item_details['rate'] = $item_details['prices'][0]['salePrice'];
                            $item_details['originalPrice'] = $item_details['rate'];
                            unset($item_details['prices']);
                        }
                    }
                    if ($item_details['type'] === 'group') {
                        $item_details['rate'] = $item_details['variations'][0]['salePrice'];
                        foreach ($item_details['variations'] as &$v) {
                            $v['originalPrice'] = $v['salePrice'];
                        }
                    }

                    $temp[] = $item_details;

                    /*$tags = [];
                    $tags[] = $item['name'];

                    $sku_params = [
                        'filter'    =>  [
                            'item_id'   =>  $item['id']
                        ],
                        'exclude'   =>  true,
                        'convert'   =>  true
                    ];

                    $variations = _get_module('items','_get_item_skus',$sku_params);

                    if($variations) {
                        foreach ($variations as $variation) {
                            $tags[] = $variation['name'];
                        }
                    }

                    $image_file_name = $item['image'];
                    if($item['image']) {
                        $image_path = _get_config('global_upload_path');
                        $cache_path = _get_config('global_image_cache_path');
                        if(!file_exists($cache_path . 'items/')) {
                            mkdir($cache_path . 'items/',0777,true);
                        }
                        $image_file_name = _get_image_cache_name($item['image'],'_' . POS_THUMB_WIDTH . 'x' . POS_THUMB_HEIGHT);
                        if(!file_exists($cache_path . $image_file_name)) {
                            $params = [
                                'width'         =>  POS_THUMB_WIDTH,
                                'height'        =>  POS_THUMB_HEIGHT,
                                'source'        =>  $image_path . $item['image'],
                                'destination'   =>  $cache_path . $image_file_name
                            ];
                            $resize = _resize_crop_center($params);
                            if(!$resize) {
                                $image_file_name = '';
                            }
                        }
                    }

                    $temp[] = [
                        'id'        =>  $item['id'],
                        'title'     =>  $item['name'],
                        'tags'      =>  implode(' ',$tags),
                        'categoryId'=>  $item['categoryId'],
                        'image'     =>  $image_file_name
                    ];*/
                }
                $items = $temp;
            }
            _set_cache('web_items',$items,1800);
        }
        $spiceLevels = SPICE_LEVELS;
        _response_data('spiceLevels',$spiceLevels);
        _response_data('categories',$categories);
        _response_data('items',$items);
        return true;

    }

    public function _customer_login_post() {

        _model('web_session');
        _helper('password');
        _library('creatorjwt');
        $obj = json_decode(file_get_contents('php://input'),true);

        $email = $obj['obj']['email'];
        $password = $obj['obj']['password'];

        if($email && $password) {
            $filters = [];
            $filters['filter'] = ['email'=>$email,'password'=>hash_password($password)];
            $customer = _get_module('contacts/customers','_find',$filters);

            if($customer) {
                $token = $this->_get_customer_token($customer['id']);
                $customerInfo['display_name'] = $customer['display_name'];
                $customerInfo['email'] = $customer['email'];
                $customerInfo['id'] = $customer['id'];
                $customerInfo['phone'] = $customer['phone'];
                $data['status'] = true;
                $data['existing']= true;
                $data['customer'] =$customerInfo;
                $data['key'] =$token;
                _response_data('data',$data);
                return true;
            }
            _response_data('message','Invalid email or password');
            return false;
        }
        _response_data('message','Invalid email or password');
        return false;
    }

    public function _customer_logout_post() {

        _model('web_session');
        _library('creatorjwt');
        $key = json_decode(file_get_contents('php://input'),true);

        $token =$key['key']; //_input('token');
        if($token) {
            $data = $this->creatorjwt->decode_token($token);
            if ($data) {
                $user_id = $data['user_id'];
                $key = $data['key'];

                if ($key == $this->web_session->get($user_id)) {
                    $this->web_session->clear($user_id);
                    $res_data['status'] = true;
                    _response_data('data',$res_data);
                    return true;
                }
            }
        }
        return false;

    }

    public function _validate_session_post() {
        _library('creatorjwt');
        _model('web_session');

        $logged_in = false;
        $key = json_decode(file_get_contents('php://input'),true);

        $token = $key['key'];//_input('token');
        if($token) {
            $data = $this->creatorjwt->decode_token($token);
            if ($data) {
                $user_id = $data['user_id'];
                $key = $data['key'];

                if ($key == $this->web_session->get($user_id)) {
                    $logged_in = true;
                }
            }
        }
        if($user_id){
            $customer =  _get_module('contacts/customers','_search',['filter'=>['id'=>$user_id]]);

        }
        $allow_online_orders = _get_setting('web','0','order_sources_switch');

        $token = $this->_get_customer_token($customer[0]['id']);

        $customerInfo['display_name'] = $customer[0]['display_name'];
        $customerInfo['email'] = $customer[0]['email'];
        $customerInfo['id'] = $customer[0]['id'];
        $customerInfo['phone'] = $customer[0]['phone'];
        $res_data['status'] = true;
        $res_data['customer'] =$customerInfo;
        $res_data['key'] =$token;
        $res_data['allowOrders'] = $allow_online_orders == '1';
        _response_data('data',$res_data);
        return true;
    }

    public function _customer_register_post() {
        _helper('password');
        _library('creatorjwt');
        _model('web_session');
       // $obj = _input('obj');
        $obj = json_decode(file_get_contents('php://input'),true);

        $params = [
            'phone' =>  $obj['obj']['phone'],
            'email'=>   $obj['obj']['email'],
        ];
        $customer = $this->_customer_info($params);

        $data = [
            'phone'         =>  $obj['obj']['phone'],
            'email'         =>  $obj['obj']['email'],
            'display_name'  =>  $obj['obj']['displayName'],
            'password'      =>  hash_password($obj['obj']['password'])
        ];

        $result = null;
        if($customer) {
            //Check if existing POS customer is registering
            if($customer['password']=='') {

                $filter = ['id'=>$customer['id']];
                _get_module('contacts/customers','_update',['data'=>$data,'filter'=>$filter]);
                $result = true;

            }else{
                $res_data['status'] = false;
                $res_data['message'] ='Customer already registered. Please try login or Forgot Password.';
                _response_data('data',$res_data);
                return false;
            }
        }else{
            $id = _get_module('contacts/customers','_insert',['data'=>$data]);
            if($id) {
                $params = [
                    'phone' => $data['phone']
                ];
                $customer = $this->_customer_info($params);
                $result = true;
            }
        }
        if($result) {
            $token = $this->_get_customer_token($customer['id']);
            $customerInfo['display_name'] = $customer['displayName'];
            $customerInfo['email'] = $customer['email'];
            $customerInfo['id'] = $customer['id'];
            $customerInfo['phone'] = $customer['phone'];
            $res_data['status'] = true;
            $res_data['existing']= true;
            $res_data['customer'] =$customerInfo;
            $res_data['key'] =$token;
            $res_data['message'] = 'Registered Successfully';
            _response_data('data',$res_data);
            return true;
        }
        return false;
    }

    private function _get_customer_token($customer_id) {
        $session = $this->web_session->generate($customer_id);
        $token_params = [
            'user_id'   =>  $session['user_id'],
            'key'       =>  $session['key'],
            'timestamp' =>  $session['timestamp']
        ];
        return $this->creatorjwt->generate_token($token_params);
    }

    public function _customer_info($params=[]) {
        if(@$params['phone']){
            $phone = $params['phone'];
        }
        if(@$params['email']){
            $email = $params['email'];
        }
        $filter_params = [];
        if(@$params['phone']){
           $filter_params['filter'] = ['phone'=>$phone];
        }
        if(@$params['email']){
            $filter_params['filter'] = ['email'=>$email];
        }
        $filter_params['exclude'] = ['status','added','baddress_id','saddress_id'];
        $filter_params['convert'] = true;

        $customer = _get_module('contacts/customers','_find',$filter_params);

        return ($customer)?$customer:false;

    }

    public function _order_post() {

        _library('creatorjwt');
        _model('web_session');
        $obj = json_decode(file_get_contents('php://input'),true);

        $obj = json_decode($obj['obj'],true);

        $token = _input('token');
        if($token) {
            //Member order
            $data = $this->creatorjwt->decode_token($token);
            if ($data) {
                $user_id = $data['user_id'];
                $key = $data['key'];

                if ($key == $this->web_session->get($user_id)) {
                    //Valid Customer
                    $obj['customer_id'] = $user_id;
                }
            }
        }

        return $this->_manage_order($obj);
    }

    public function _manage_order($obj) {

        _model('orders/order','order');
        _model('orders/order_item','order_item');
        _model('orders/order_item_note','note');
        _model('orders/payment_description','payment_description');
        _model('orders/order_item_addon','addon');

        $transaction_id = [];

        $this->_prep_order_obj($obj);
        $mode = 'add';

        $order_table = $obj['order_table'];
        $payment_table = $obj['order_payment_table'];

        $order = $this->_add_order($order_table,$mode);

        if($order) {

            $order_id = $order['id'];

            $items_table = $obj['order_item_table'];
            $order['items'] = [];
            $ignore_items = [];

            foreach ($items_table as $item) {

                $item['order_id'] = $order_id;
                $updated_item = $this->_add_order_item($item);

                $ignore_items[] = $updated_item['id'];

                $order['items'][] = $updated_item;

            }
            $this->_clear_order_items($order_id,$ignore_items);

            $ignore_payments = [];
            if($payment_table) {
                $first = true;
                foreach ($payment_table as $payment) {

                    $payment['reference_no'] = $order['order_no'];
                    $payment['order_id'] = $order_id;

                    $updated_payment = $this->_add_payment($payment);
                    if($updated_payment) {
                        if($first) {
                            $transaction_id = $payment['description']['transaction_id'];
                            $first = false;
                        }
                        $ignore_payments[] = $updated_payment['id'];
                    }
                }
            }

            $this->_clear_payments($order['id'],$ignore_payments);

            $items = $order['items'];
            unset($order['items']);
            $this->_exclude_keys($order,$this->order->exclude_keys);
            $this->_sql_to_vue($order,$this->order->keys);
            foreach ($items as $item) {
                $this->_exclude_keys($item,$this->order_item->exclude_keys);
                $this->_sql_to_vue($item,$this->order_item->keys);
                $order['items'][] = $item;
            }
            $order['transactionId'] = $transaction_id;

            $params = [
                'type'      =>  'newOrder',
                'title'     =>  'New Online Order',
                'message'   =>  'Received online order'
            ];
            if(@$obj['order_table']['billing_name']) {
                $params['message'] .= ' from ' . $obj['order_table']['billing_name'];
            }
            _get_module('notifications','_broadcast',$params);

            _response_data('order',$order);
            return true;

        }
        return false;

    }

    private function _prep_order_obj(&$obj) {

        $order_keys = $this->order->keys;

        if(isset($obj['customer_id']) && $obj['customer_id']) {
            $customer_id = $obj['customer_id'];
            $customer = _get_module('contacts/customers','_single',['id'=>$customer_id]);
        }else{
            //TODO Guest Order
            $customer = false;
        }

        if($customer) {
            $obj['customer_id'] = $customer['id'];

            /* $obj['billingName'] = $customer['displayName'];
            $obj['billingAddress1'] = $customer['billing']['address1'];
            $obj['billingAddress2'] = $customer['billing']['address2'];
            $obj['billingCity'] = $customer['billing']['city'];
            $obj['billingState'] = $customer['billing']['state'];
            $obj['billingCountry'] = $customer['billing']['country'];
            $obj['billingZipCode'] = $customer['billing']['zipCode'];

            $obj['shippingAddress1'] = $customer['shipping']['address1'];
            $obj['shippingAddress2'] = $customer['shipping']['address2'];
            $obj['shippingCity'] = $customer['shipping']['city'];
            $obj['shippingState'] = $customer['shipping']['state'];
            $obj['shippingCountry'] = $customer['shipping']['country'];
            $obj['shippingZipCode'] = $customer['shipping']['zipCode']; */

            $obj['order_table'] = [];
            $obj['order_item_table'] = [];
            $obj['order_payment_table'] = [];

            if (isset($obj['payment'])) {
                $payments[] = $obj['payment'];
                foreach ($payments as $payment) {

                    $payment_insert = [
                        'cash'              =>  false,
                        'amount'            =>  (@$obj['grand_total'])?$obj['grand_total']:0,
                        'notes'             =>  '',
                        'payment_method_id' =>  WEB_PAYPAL_PAYMENT_METHOD_ID,//(@$payment['paymentID'])?$payment['paymentID']:WEB_PAYPAL_PAYMENT_METHOD_ID,
                        'customer_id'       =>  $obj['customer_id']
                    ];

                    $payment_desc_insert = [
                        'transaction_id'    =>  $payment['paymentID'],
                        'source_data'       =>  (is_array($payment))?json_encode($payment):''
                    ];
                    $payment_insert['description'] = $payment_desc_insert;

                    $obj['order_payment_table'][] = $payment_insert;
                }
                unset($obj['payment']);
            }

          /*   foreach ($obj['cart']['totals'] as $key => $value) {
                $obj[$key] = $value;
            }
            unset($obj['cart']['totals']); */

            foreach ($order_keys as $old => $new) {
                change_array_key($old, $new, $obj);
                if (isset($obj[$new])) {
                    $obj['order_table'][$new] = $obj[$new];
                    unset($obj[$new]);
                }
            }

            $obj['order_table']['billing_name'] = $customer['displayName'];
            $obj['order_table']['billing_address1'] = $customer['billing']['address1']??'';
            $obj['order_table']['billing_address2'] = $customer['billing']['address2']??'';
            $obj['order_table']['billing_city'] = $customer['billing']['city']??'';
            $obj['order_table']['billing_state'] = $customer['billing']['state']??'';
            $obj['order_table']['billing_country'] = $customer['billing']['country']??'';
            $obj['order_table']['billing_zip_code'] = $customer['billing']['zipCode']??'';

            $obj['order_table']['shipping_address1'] = $customer['shipping']['address1']??'';
            $obj['order_table']['shipping_address2'] = $customer['shipping']['address2']??'';
            $obj['order_table']['shipping_city'] = $customer['shipping']['city']??'';
            $obj['order_table']['shipping_state'] = $customer['shipping']['state']??'';
            $obj['order_table']['shipping_country'] = $customer['shipping']['country']??'';
            $obj['order_table']['shipping_zip_code'] = $customer['shipping']['zipCode']??'';

            $obj['order_table']['order_status'] = 'Confirmed';

            if (isset($obj['close']) && $obj['close'] === 'true') {
                $obj['order_table']['order_status'] = 'Closed';
                unset($obj['close']);
            }

            if (!isset($obj['order_table']['source_id'])) {
                $obj['order_table']['source_id'] = SO_SOURCE_WEB_ID;
            }

            if (!isset($obj['order_table']['tax_rate'])) {
                $obj['order_table']['tax_rate'] = 5;
            }

            if (!isset($obj['order_table']['freight_total'])) {
                $obj['order_table']['freight_total'] = 0;
            }

            if (!isset($obj['order_table']['duty_total'])) {
                $obj['order_table']['duty_total'] = 0;
            }

            $freight = ((float)$obj['order_table']['freight_total']) ? (float)$obj['order_table']['freight_total'] : 0;
            $duty = ((float)$obj['order_table']['duty_total']) ? (float)$obj['order_table']['duty_total'] : 0;

            foreach ($obj['items'] as $key => $item) {
                $web_item = [
                    'type' => $item['type'],
                    'sku' => $item['sku'],
                    'title' =>  $item['type']==='single'?$item['title']:$item['title'].' - '.$item['variant_title'],
                    'quantity' => (float)$item['quantity'],
                    'notes' => '',
                    'rate' => (float)$item['rate'],
                    'item_id' => $item['itemId'],
                    'sku_id' => $item['skuId'],
                    'unit_id' => $item['unit'],
                    'sale_unit_id' => $item['unit'],
                    'unit_quantity' => $item['unit'],
                    'unit_rate' => (float)$item['rate'],
                    'has_spice_level' => $item['hasSpiceLevel'],
                    'spice_level' => $item['spiceLevel'],
                    'amount'=> $item['amount'],
                ];
                $temp = $web_item;
                $temp['addons'] = $item['addons'];

                $temp['has_spice_level'] = ($temp['has_spice_level'] == 'true') ? 1 : 0;
                //$temp['amount'] = (float)$temp['quantity'] * (float)$temp['rate'];
                $temp['freight_total'] = 0;
                $temp['duty_total'] = 0;
                if ($freight > 0) {
                    $item_freight = ((float)$temp['amount'] * (float)$freight) / (float)$obj['order_table']['sub_total'];
                    $temp['freight_total'] = $item_freight;
                }
                if ($duty > 0) {
                    $item_duty = ((float)$temp['amount'] * (float)$duty) / (float)$obj['order_table']['sub_total'];
                    $temp['duty_total'] = $item_duty;
                }
                $obj['order_item_table'][] = $temp;
            }
            unset($obj['payment']);
            unset($obj['items']);
            unset($obj['cart']);
            unset($obj['company']);
        }
    }

    private function _add_order($obj,$mode) {

        $order_id = false;
        if($mode==='add') {

            $session_id = WEB_SESSION_ID;
            $obj['session_id'] = $session_id;
            $obj['session_order_no'] = $this->_get_new_session_order_no($session_id);
            $obj['order_no'] = _get_ref(ORDER_REF);
            $obj['reference_no'] = '';
            $obj['notes'] = '';
            $obj['order_date'] = sql_now_datetime();
            $obj['added'] = sql_now_datetime();
            if (!isset($obj['order_status'])) {
                $obj['order_status'] = 'Confirmed';
            }
            $obj['employee_id'] = WEB_SALESPERSON_ID;//_get_user_id();

            $obj['adjustment'] = 0;

            if($this->order->insert($obj)) {
                $order_id = $this->order->insert_id();
                _update_ref(ORDER_REF);
            }

        }

        if($order_id) {
            $order = $this->order->single(['id'=>$order_id]);
            if($order) {
                return $order;
            }
        }
        return false;
    }

    private function _add_order_item($obj) {

        $item_id = false;
        $addons = $obj['addons'];
        unset($obj['addons']);
        if(isset($obj['id']) && $obj['id']) {

            $item_id = $obj['id'];
            unset($obj['id']);

            $this->order_item->update($obj,['id'=>$item_id]);

        }else{

            $item['unit'] = '';
            $item['sale_unit'] = '';
            $obj['added'] = sql_now_datetime();

            if ($this->order_item->insert($obj)) {
                $item_id = $this->order_item->insert_id();
            }

        }
        if($item_id) {
            $this->addon->delete(['order_item_id'=>$item_id]);
            if($addons) {
                $this->_vue_to_sql($addons,$this->addon->keys,true);
                foreach ($addons as $addon) {
                    $enabled = @$addon['enabled']==true;
                    if($enabled && $addon['quantity']>0) {
                        unset($addon['id']);
                        unset($addon['enabled']);
                        $addon['order_item_id'] = $item_id;
                        $addon['added'] = sql_now_datetime();
                        $this->addon->insert($addon);
                    }
                }
            }
            $item = $this->order_item->single(['id' => $item_id]);

            if ($item) {
                return $item;
            }
        }

        return false;

    }

    private function _add_payment($obj) {

        _model('orders/payment','payment');

        $payment_id = false;
        $order_id = $obj['order_id'];
        $payment_method_id = $obj['payment_method_id'];
        $description = $obj['description'];

        unset($obj['cash']);
        unset($obj['description']);

        $payment_obj = $this->payment->single(['order_id'=>$order_id,'payment_method_id'=>$payment_method_id]);

        if($payment_obj) {

            $payment_id = $payment_obj['id'];
            $this->payment->update($obj,['id'=>$payment_id]);

        }else {

            $obj['order_no'] = _get_ref('pay');
            $obj['payment_date'] = sql_now_datetime();
            $obj['added'] = sql_now_datetime();

            if ($this->payment->insert($obj)) {
                $payment_id = $this->payment->insert_id();
                _update_ref('pay');

                $description['added'] = sql_now_datetime();
                $description['payment_id'] = $payment_id;
                $this->payment_description->insert($description);
            }

        }
        if($payment_id) {
            $payment = $this->payment->single(['id' => $payment_id]);

            if ($payment) {
                return $payment;
            }
        }
        return false;
    }

    private function _get_new_session_order_no($session_id) {

        $query = "SELECT MAX(oo.session_order_no) as last_order_no FROM ord_order oo WHERE oo.session_id=$session_id";

        $result = _db_get_query($query,true);

        if($result['last_order_no'] === null) {
            return 1;
        }else{
            return (int)$result['last_order_no'] + 1;
        }

    }

    private function _clear_order_items($so_id,$ignore) {

        if($ignore) {
            $this->db->where_not_in('id',$ignore);
        }
        return $this->order_item->delete(['order_id'=>$so_id]);

    }

    private function _clear_payments($order_id,$ignore) {

        $payments = $this->payment->search(['order_id'=>$order_id]);
        if($payments) {
            foreach ($payments as $payment) {
                $payment_id = $payment['id'];
                if(!in_array($payment_id,$ignore)) {
                    $this->payment_description->delete(['payment_id' => $payment_id]);
                }
            }
        }

        if($ignore) {
            $this->db->where_not_in('id',$ignore);
        }
        $this->payment->delete(['order_id'=>$order_id]);

    }

    public function _install() {
        return true;
    }

    public function _uninstall() {
        return true;
    }

    protected function _load_files() {

        if(_get_method()=='index') {
            _load_plugin(['vue_multiselect','moment']);
            //_load_plugin(['moment','dt']);
        }

    }

}
